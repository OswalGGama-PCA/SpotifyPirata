<ion-content [fullscreen]="true">

  <!-- ============================================ -->
  <!-- SEARCH BAR PROMINENTE -->
  <!-- ============================================ -->
  <div class="search-section">
    <ion-searchbar class="home-search" placeholder="Buscar canciones, artistas, Ã¡lbumes..." [(ngModel)]="searchTerm"
      (ionInput)="quickSearch($event)" animated="true">
    </ion-searchbar>
  </div>

  <!-- ============================================ -->
  <!-- HERO SECTION - TRENDING NOW -->
  <!-- ============================================ -->
  <div class="hero-section" *ngIf="trendingSong && !isLoading">
    <div class="hero-background">
      <img [src]="trendingSong.albumArt" alt="Trending" class="hero-bg-img">
      <div class="hero-overlay"></div>
    </div>

    <div class="hero-content">
      <span class="hero-badge">ðŸ”¥ TRENDING NOW</span>
      <h1 class="hero-title">{{ trendingSong.title }}</h1>
      <p class="hero-artist">{{ trendingSong.artist }}</p>

      <div class="hero-actions">
        <ion-button class="play-btn" (click)="playTrending()">
          <ion-icon name="play" slot="start"></ion-icon>
          Reproducir
        </ion-button>
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- QUICK ACTIONS -->
  <!-- ============================================ -->
  <div class="quick-actions" *ngIf="!isLoading">
    <ion-button class="action-btn" fill="clear" (click)="navigateTo('favorites')">
      <ion-icon name="heart" slot="start"></ion-icon>
      <span>Favoritos</span>
    </ion-button>
    <ion-button class="action-btn" fill="clear" (click)="navigateTo('music')">
      <ion-icon name="musical-notes" slot="start"></ion-icon>
      <span>Explorar</span>
    </ion-button>
    <ion-button class="action-btn" fill="clear" (click)="navigateTo('artists')">
      <ion-icon name="people" slot="start"></ion-icon>
      <span>Artistas</span>
    </ion-button>
  </div>

  <!-- ============================================ -->
  <!-- SECCIÃ“N: GÃ‰NEROS MUSICALES -->
  <!-- ============================================ -->
  <div class="section genres-section" *ngIf="genres.length > 0 && !isLoading">
    <div class="section-header">
      <h2 class="section-title">Explorar GÃ©neros</h2>
    </div>

    <div class="genres-grid">
      <div class="genre-card" *ngFor="let genre of genres" (click)="exploreGenre(genre)"
        [style.background]="'linear-gradient(135deg, ' + genre.color + ' 0%, rgba(0,0,0,0.8) 100%)'">
        <ion-ripple-effect></ion-ripple-effect>
        <h3>{{ genre.name }}</h3>
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- SECCIÃ“N: PLAYLISTS DESTACADAS -->
  <!-- ============================================ -->
  <div class="section playlists-section" *ngIf="playlists.length > 0 && !isLoading">
    <div class="section-header">
      <h2 class="section-title">Playlists Para Ti</h2>
    </div>

    <div class="horizontal-scroll">
      <div class="playlist-card" *ngFor="let playlist of playlists" (click)="openPlaylist(playlist)">
        <ion-ripple-effect></ion-ripple-effect>
        <div class="playlist-image">
          <img [src]="playlist.image" [alt]="playlist.name">
          <div class="play-overlay">
            <ion-icon name="play-circle"></ion-icon>
          </div>
        </div>
        <div class="playlist-info">
          <h3>{{ playlist.name }}</h3>
          <p>{{ playlist.trackCount }} canciones</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- SECCIÃ“N: ARTISTAS DESTACADOS -->
  <!-- ============================================ -->
  <div class="section artists-section" *ngIf="artists.length > 0 && !isLoading">
    <div class="section-header">
      <h2 class="section-title">Artistas Destacados</h2>
      <ion-button class="reload-btn" size="small" fill="clear" (click)="reloadArtists()" [disabled]="isLoading">
        <ion-icon name="refresh-outline" slot="icon-only"></ion-icon>
      </ion-button>
    </div>

    <div class="horizontal-scroll">
      <div class="artist-card" *ngFor="let artist of artists" (click)="showSongsByArtist(artist)">
        <ion-ripple-effect></ion-ripple-effect>
        <div class="artist-image">
          <img [src]="artist.img" [alt]="artist.title">
          <div class="play-overlay">
            <ion-icon name="play"></ion-icon>
          </div>
        </div>
        <div class="artist-info">
          <h3>{{ artist.title }}</h3>
          <p>{{ artist.genre }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- ============================================ -->
  <!-- SKELETON LOADING -->
  <!-- ============================================ -->
  <div class="loading-container" *ngIf="isLoading">
    <!-- Hero Skeleton -->
    <div class="skeleton-hero">
      <ion-skeleton-text animated style="width: 100%; height: 300px; border-radius: 16px;"></ion-skeleton-text>
    </div>

    <!-- Quick Actions Skeleton -->
    <div class="skeleton-actions">
      <ion-skeleton-text animated style="width: 30%; height: 40px; border-radius: 20px;"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 30%; height: 40px; border-radius: 20px;"></ion-skeleton-text>
      <ion-skeleton-text animated style="width: 30%; height: 40px; border-radius: 20px;"></ion-skeleton-text>
    </div>

    <!-- Sections Skeleton -->
    <div class="skeleton-section" *ngFor="let i of [1,2]">
      <ion-skeleton-text animated style="width: 40%; height: 28px; margin-bottom: 16px;"></ion-skeleton-text>
      <div class="skeleton-cards">
        <ion-skeleton-text animated style="width: 150px; height: 150px; border-radius: 12px;"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 150px; height: 150px; border-radius: 12px;"></ion-skeleton-text>
        <ion-skeleton-text animated style="width: 150px; height: 150px; border-radius: 12px;"></ion-skeleton-text>
      </div>
    </div>
  </div>

</ion-content>