<ion-content [fullscreen]="true">
  <div class="login-container">
    <!-- Header -->
    <header class="login-header">
      <div class="logo-wrapper">
        <div class="pirate-logo">☠️</div>
        <ion-icon name="musical-notes" class="music-icon"></ion-icon>
      </div>
      <h1 class="brand-title">Spotify Pirata</h1>
      <p class="brand-subtitle">Millones de tesoros musicales te esperan</p>
    </header>

    <!-- Login Form -->
    <form class="login-form" [formGroup]="loginForm" (ngSubmit)="login()">

      <!-- Email Field -->
      <div class="form-field">
        <ion-item lines="none" class="input-wrapper"
          [class.has-error]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
          <ion-icon name="mail-outline" slot="start"></ion-icon>
          <ion-input type="email" label="Correo electrónico" labelPlacement="floating" placeholder="tu@email.com"
            formControlName="email" autocomplete="email">
          </ion-input>
        </ion-item>
        <div class="field-error" *ngIf="loginForm.get('email')?.invalid && loginForm.get('email')?.touched">
          <small *ngIf="loginForm.get('email')?.errors?.['required']">El correo es obligatorio</small>
          <small *ngIf="loginForm.get('email')?.errors?.['email']">Ingresa un correo válido</small>
        </div>
      </div>

      <!-- Password Field -->
      <div class="form-field">
        <ion-item lines="none" class="input-wrapper"
          [class.has-error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
          <ion-icon name="lock-closed-outline" slot="start"></ion-icon>
          <ion-input type="password" label="Contraseña" labelPlacement="floating" placeholder="••••••••"
            formControlName="password" autocomplete="current-password">
            <ion-input-password-toggle slot="end"></ion-input-password-toggle>
          </ion-input>
        </ion-item>
        <div class="field-error" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
          <small *ngIf="loginForm.get('password')?.errors?.['required']">La contraseña es obligatoria</small>
        </div>
      </div>

      <!-- Forgot Password -->
      <div class="forgot-password">
        <ion-button fill="clear" size="small">
          ¿Olvidaste tu contraseña?
        </ion-button>
      </div>

      <!-- Submit Button -->
      <ion-button type="submit" expand="block" class="btn-primary" [disabled]="loginForm.invalid">
        Iniciar Sesión
      </ion-button>
    </form>


    <!-- Footer -->
    <footer class="login-footer">
      <p>
        ¿No tienes cuenta?
        <ion-button fill="clear" size="small" class="link-button" (click)="goToRegister()">
          Regístrate gratis
        </ion-button>
      </p>
    </footer>
  </div>
</ion-content>